(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0d57909f"],{"1e75":function(t,e,a){"use strict";var i=a("9569"),s=a.n(i);s.a},5095:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"sec api-chart"},[t._m(0),a("div",{staticClass:"sec-content"},[a("div",{staticClass:"api-chart__line"},[t.loading1?a("Spin",{attrs:{size:"large",fix:""}}):t._e(),a("chart",{attrs:{chartId:"mychart",xData:t.dateArray,itemData:t.numArray,series:t.series}})],1)])]),a("div",{staticClass:"sec api-table"},[t.loading2?a("Spin",{attrs:{size:"large",fix:""}}):t._e(),a("div",{staticClass:"sec-header"},[a("div",{staticClass:"sec-header__title"},[t._v("能力运行概况（近30天）")]),a("div",{staticClass:"sec-header__action"},[a("a",{staticClass:"link",attrs:{_stat_click_id:"table_more"},on:{click:function(e){return t.goToSide("data-analysis","all")}}},[t._v("更多数据")])])]),a("div",{staticClass:"sec-content"},[a("div",{staticClass:"main"},[a("table",{staticClass:"ui-table"},[t._m(1),a("tbody",{staticClass:"ui-table__body"},t._l(t.tableList.slice(10*t.currentPage-10,10*t.currentPage),(function(e,i){return a("tr",{key:i,staticClass:"ui-table__row ui-table__row_border"},[a("td",{staticClass:"ui-table__cell"},[t._v(t._s(e.productName))]),a("td",{staticClass:"ui-table__cell"},[a("a",{staticClass:"link",on:{click:function(a){return t.goToSide("data-analysis",e.productId)}}},[t._v(t._s(e.productName))])]),a("td",{staticClass:"ui-table__cell"},[t._v(t._s(e.success+e.fail))]),a("td",{staticClass:"ui-table__cell"},[t._v(t._s(e.fail))]),a("td",{staticClass:"ui-table__cell"},[t._v(" "+t._s((e.fail/(e.success+e.fail)*100).toFixed(2)+"%")+" ")]),a("td",{staticClass:"ui-table__cell"},[t._v(t._s(e.cost))])])})),0)]),a("div",{staticClass:"table-pagination"},[a("div",{staticClass:"ui-pagination"},[a("div",{staticClass:"ui-pagination__cont"},[a("div",{staticClass:"ui-pagination__arrow",on:{click:function(e){return t.changeCurrentPage(-1)}}},[a("div",{staticClass:"ui-pagination__left"})]),a("div",{staticClass:"ui-pagination__text"},[t._v(" "+t._s(t.currentPage)+" / "+t._s(t.pageCount)+" ")]),a("div",{staticClass:"ui-pagination__arrow",on:{click:function(e){return t.changeCurrentPage(1)}}},[a("div",{staticClass:"ui-pagination__right"})])])])])])])],1)])},s=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"sec-header"},[a("div",{staticClass:"sec-header__title"},[t._v("调用总量（近30天）")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",{staticClass:"ui-table__head"},[a("tr",{staticClass:"ui-table__row"},[a("td",{staticClass:"ui-table__cell"},[t._v("能力")]),a("td",{staticClass:"ui-table__cell"},[t._v("API")]),a("td",{staticClass:"ui-table__cell"},[t._v("调用量")]),a("td",{staticClass:"ui-table__cell"},[t._v("失败次数")]),a("td",{staticClass:"ui-table__cell"},[t._v("失败率")]),a("td",{staticClass:"ui-table__cell"},[t._v("耗时（ms）")])])])}],n=(a("a4d3"),a("4de4"),a("4160"),a("0d03"),a("e439"),a("dbb4"),a("b64b"),a("d3b7"),a("e25e"),a("159b"),a("2fa7")),r=a("365c"),c=a("0ab9"),l=a("e9b1"),o=a("2f62");function u(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function d(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?u(a,!0).forEach((function(e){Object(n["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):u(a).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var _={name:"",components:{chart:l["a"]},data:function(){return{index:0,item:{},numArray:[],dateArray:c["a"].getDateArray((new Date).setTime((new Date).getTime()-25056e5),new Date,864e5,"yyyy-MM-dd"),tableList:[],currentPage:1,pageCount:1,loading1:!1,loading2:!1}},computed:d({},Object(o["d"])(["appList"]),{series:function(){var t=[{name:"总调用",data:this.numArray,type:"line",color:"#036bc8",symbolSize:6}];return t}}),watch:{"$route.query":function(t,e){this.index=t.index,this.item=this.appList[this.index],this.getTableData(),this.getChartData()},appList:function(t,e){this.index=this.$route.query.index,this.item=this.appList[this.index],this.getTableData(),this.getChartData()}},mounted:function(){this.index=this.$route.query.index,this.item=this.appList[this.index],this.getTableData(),this.getChartData()},methods:{goToSide:function(t,e){this.currentSide=t,console.log(t,this.currentSide),this.$router.push({name:t,query:{index:this.index,name:t,id:e}}),console.log(t,this.currentSide)},getTableData:function(){var t=this,e=new Date,a=new Date;a.setTime(a.getTime()-25056e5);var i={startDate:c["a"].format(a,"yyyy-MM-dd"),endDate:c["a"].format(e,"yyyy-MM-dd")};this.loading2=!0,Object(r["i"])(this.item.id,i).then((function(e){console.log(e),e.success&&(t.tableList=e.result,t.pageCount=parseInt(t.tableList.length/10)+1)})).finally((function(){t.loading2=!1}))},changeCurrentPage:function(t){t<0&&this.currentPage+t>=1?this.currentPage=this.currentPage+t:t>0&&this.currentPage+t<=this.pageCount&&(this.currentPage=this.currentPage+t)},getChartData:function(){var t=this;this.loading1=!0,Object(r["j"])(this.item.id).then((function(e){if(e.success){for(var a=[],i=0;i<e.result.length;i++)a.push(e.result[i].count);t.numArray=a,console.log(t.numArray)}})).finally((function(){t.loading1=!1}))}}},h=_,g=(a("1e75"),a("2877")),b=Object(g["a"])(h,i,s,!1,null,"643b7590",null);e["default"]=b.exports},9569:function(t,e,a){}}]);